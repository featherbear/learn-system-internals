<!doctype html><html lang=en><head><meta charset=utf-8><title>Access Management</title><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=black-translucent><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><link rel=stylesheet href=../../reveal-js/css/reset.css><link rel=stylesheet href=../../reveal-js/css/reveal.css><link rel=stylesheet href=../../reveal-js/css/theme/black.css id=theme><link rel=stylesheet href=../../highlight-js/default.min.css></head><body><div class=reveal><div class=slides><section data-noprocess data-shortcode-slide class=center><h2 id=access-management>Access Management</h2></section><section><h2 id=processer-privilege-levels>Processer Privilege Levels</h2><section data-shortcode-section><p>Some microprocessors are designed to operate under different privilege levels.</p><p>In <strong>User / Application Mode</strong>, resources such as devices, registers, certain memory regions and certain CPU instructions are restricted.</p><p>In <strong>Kernel / Privileged Mode</strong>, full access to resources and CPU instructions are permitted.</p><p><em>On such systems, the kernel runs in privileged mode, whilst most other applications run in user mode.</em></p></section><section><p>If an application running inside user mode attempts to access a restricted memory region, or attempts to execute a restricted CPU instruction, the request will be denied.</p><p>Privileged processors enforce the restrictions and policies of the operating system on applications, as only the kernel has privileged access. This helps to mitigate the risk of malicious / unexpected application behaviour from affecting the rest of the system.</p></section><section><aside class=notes><p>Draw a diagram.</p></aside><pre><code class=language-plain>                                       +---------------+
                                       |               |
        +---------+    user access     |               |
        |         +-------------------&gt;|               |
        |  App    ++                   |      CPU      |
        +---------+ \                  |               |
                     \                 |               |
                      \                +------------+--+
                       v                            |
                  +-----------+                     |
                  | Operating |     privileged      |
                  |   System  +---------------------+
                  +-----------+       access
</code></pre></section></section><section><h2 id=privilege-less-processors>Privilege-less Processors</h2><p>Some microprocessors do not implement a privilege level system, due to the complexity and cost of the circuitry required.</p><p>As no level check is required, privilege-less processors run considerably faster than privileged processors, and thus are often used in embedded devices, where small and single tasked operations are required.</p><p>Whilst they can implement the functionality of the OS, they are unable to enforce restrictions and policies. (You can bypass the OS)</p></section><section><h2 id=system-calls>System Calls</h2><section data-shortcode-section><p>Application access to the kernel functionality is provided through &lsquo;system call requests&rsquo;, also known as <code>syscalls</code>.</p><p>When a <code>syscall</code> is made from a program, the processor switches to the operating system (kernel mode) to handle the request (or not).<br>When the routine is finished, the processor switches back to the execution of the program</p><p>[<a href=https://filippo.io/linux-syscall-table/>x86 syscall table</a>]</p><aside class=notes><p>Syscalls complement the implementation of privileged CPU systems</p></aside></section><section><p>Syscall requests are constructed in the program by setting the various CPU registers to certain values. <em>Then</em>, when the <code>syscall</code> CPU instruction is executed, the CPU will perform a <code>kernel trap</code> - switching to the execution of the operating system in kernel mode.</p><ul><li>Push relevant arguments to the stack</li><li>Set up relevant registers</li><li>Execute syscall</li><li>&hellip;</li><li>Return from syscall</li></ul></section><section><p>The CPU often contains an <a href=../cpu-fundamentals/waiting-for-events/#/3>interrupt controller</a> which on top of its &lsquo;interrupt controlling duties&rsquo;, also contains parts of the processor state prior to an interrupt being triggered.</p><p>For example - The EPC (Exception Program Counter) contains the address that triggered the syscall</p></section><section><p>The implementation of a syscall is defined by the OS.<br>As the operating system runs in kernel mode, it has full access to the entire range of CPU instructions and memory space.</p></section></section></div></div><script type=text/javascript src=../../reveal-hugo/object-assign.js></script><a href=../../reveal-js/css/print/ id=print-location style=display:none></a><script type=text/javascript>var printLocationElement=document.getElementById('print-location');var link=document.createElement('link');link.rel='stylesheet';link.type='text/css';link.href=printLocationElement.href+(window.location.search.match(/print-pdf/gi)?'pdf.css':'paper.css');document.getElementsByTagName('head')[0].appendChild(link);</script><script type=application/json id=reveal-hugo-site-params>{"center":false,"history":true,"pdf_separate_fragments":false,"slide_number":true}</script><script type=application/json id=reveal-hugo-page-params>null</script><script src=../../reveal-js/js/reveal.js></script><script type=text/javascript>function camelize(map){if(map){Object.keys(map).forEach(function(k){newK=k.replace(/(\_\w)/g,function(m){return m[1].toUpperCase()});if(newK!=k){map[newK]=map[k];delete map[k];}});}
return map;}
var revealHugoDefaults={center:true,controls:true,history:true,progress:true,transition:"slide"};var revealHugoSiteParams=JSON.parse(document.getElementById('reveal-hugo-site-params').innerHTML);var revealHugoPageParams=JSON.parse(document.getElementById('reveal-hugo-page-params').innerHTML);var options=Object.assign({},camelize(revealHugoDefaults),camelize(revealHugoSiteParams),camelize(revealHugoPageParams));Reveal.initialize(options);</script><script type=text/javascript src=../../reveal-js/plugin/markdown/marked.js></script><script type=text/javascript src=../../reveal-js/plugin/markdown/markdown.js></script><script type=text/javascript src=../../reveal-js/plugin/highlight/highlight.js></script><script type=text/javascript src=../../reveal-js/plugin/zoom-js/zoom.js></script><script type=text/javascript src=../../reveal-js/plugin/notes/notes.js></script><script type=text/javascript>document.title+=" | Learn System Internals";window.MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']]},svg:{fontCache:'global'}};</script><script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js></script><script>if(window.location.search.match(/\?print-pdf/gi)){function insertCSS(src){const link=document.createElement('link');link.rel='stylesheet';link.type='text/css';link.href=src;document.getElementsByTagName('head')[0].appendChild(link);}
insertCSS('\/reveal-js\/css\/print\/pdf.css');insertCSS('\/hideHomeButton.css');}</script><a id=homeButton style=position:fixed;bottom:8px;left:8px;z-index:31;font-family:Helvetica,sans-serif;font-size:12px;line-height:1;color:#fff;background-color:rgba(0,0,0,.4);padding:5px;text-decoration:none href=../../>Home</a></body></html>